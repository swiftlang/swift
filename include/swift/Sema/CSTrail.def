//===--- CSTrail.def - Trail Change Kinds ---------------------------------===//
//
// This source file is part of the Swift.org open source project
//
// Copyright (c) 2024 Apple Inc. and the Swift project authors
// Licensed under Apache License v2.0 with Runtime Library Exception
//
// See https://swift.org/LICENSE.txt for license information
// See https://swift.org/CONTRIBUTORS.txt for the list of Swift project authors
//
//===----------------------------------------------------------------------===//
///
/// This file enumerates the kinds of SolverTrail::Change.
///
//===----------------------------------------------------------------------===//

#ifndef CHANGE
#define CHANGE(Name)
#endif

#ifndef LOCATOR_CHANGE
#define LOCATOR_CHANGE(Name, Map) CHANGE(Name)
#endif

#ifndef EXPR_CHANGE
#define EXPR_CHANGE(Name) CHANGE(Name)
#endif

#ifndef CLOSURE_CHANGE
#define CLOSURE_CHANGE(Name) CHANGE(Name)
#endif

#ifndef CONSTRAINT_CHANGE
#define CONSTRAINT_CHANGE(Name) CHANGE(Name)
#endif

#ifndef GRAPH_NODE_CHANGE
#define GRAPH_NODE_CHANGE(Name) CHANGE(Name)
#endif

#ifndef COMMON_BINDING_INFORMATION_ADDITION
#define COMMON_BINDING_INFORMATION_ADDITION(PropertyName, Storage)             \
  GRAPH_NODE_CHANGE(Added##PropertyName)
#endif

#ifndef COMMON_BINDING_INFORMATION_RETRACTION
#define COMMON_BINDING_INFORMATION_RETRACTION(PropertyName, Storage)           \
  GRAPH_NODE_CHANGE(Retracted##PropertyName)
#endif

#ifndef BINDING_RELATION_CHANGE
#define BINDING_RELATION_CHANGE(Name) CHANGE(Name)
#endif

#ifndef BINDING_RELATION_ADDITION
#define BINDING_RELATION_ADDITION(RelationName, Storage)                       \
  BINDING_RELATION_CHANGE(Added##RelationName)
#endif

#ifndef BINDING_RELATION_RETRACTION
#define BINDING_RELATION_RETRACTION(RelationName, Storage)                     \
  BINDING_RELATION_CHANGE(Retracted##RelationName)
#endif

#ifndef SCORE_CHANGE
#define SCORE_CHANGE(Name) CHANGE(Name)
#endif

#ifndef LAST_CHANGE
#define LAST_CHANGE(Name)
#endif

LOCATOR_CHANGE(RecordedDisjunctionChoice, DisjunctionChoices)
LOCATOR_CHANGE(RecordedAppliedDisjunction, AppliedDisjunctions)
LOCATOR_CHANGE(RecordedMatchCallArgumentResult, argumentMatchingChoices)
LOCATOR_CHANGE(RecordedOpenedTypes, OpenedTypes)
LOCATOR_CHANGE(RecordedOpenedExistentialType, OpenedExistentialTypes)
LOCATOR_CHANGE(RecordedDefaultedConstraint, DefaultedConstraints)
LOCATOR_CHANGE(ResolvedOverload, ResolvedOverloads)
LOCATOR_CHANGE(RecordedArgumentList, ArgumentLists)
LOCATOR_CHANGE(RecordedImplicitCallAsFunctionRoot, ImplicitCallAsFunctionRoots)
LOCATOR_CHANGE(RecordedSynthesizedConformance, SynthesizedConformances)

EXPR_CHANGE(AppliedPropertyWrapper)
EXPR_CHANGE(RecordedImpliedResult)
EXPR_CHANGE(RecordedExprPattern)

CLOSURE_CHANGE(RecordedClosure)
CLOSURE_CHANGE(RecordedPreconcurrencyClosure)

CONSTRAINT_CHANGE(DisabledConstraint)
CONSTRAINT_CHANGE(FavoredConstraint)
CONSTRAINT_CHANGE(GeneratedConstraint)

GRAPH_NODE_CHANGE(AddedConstraint)
GRAPH_NODE_CHANGE(RemovedConstraint)
GRAPH_NODE_CHANGE(AddedConstraintToInference)
GRAPH_NODE_CHANGE(RetractedConstraintFromInference)
GRAPH_NODE_CHANGE(AddedLiteral)
GRAPH_NODE_CHANGE(RetractedLiteral)

COMMON_BINDING_INFORMATION_ADDITION(DelayedBy, DelayedBy)
COMMON_BINDING_INFORMATION_RETRACTION(DelayedBy, DelayedBy)

COMMON_BINDING_INFORMATION_ADDITION(Protocol, Protocols)
COMMON_BINDING_INFORMATION_RETRACTION(Protocol, Protocols)

COMMON_BINDING_INFORMATION_ADDITION(Default, Defaults)
COMMON_BINDING_INFORMATION_RETRACTION(Default, Defaults)

BINDING_RELATION_ADDITION(AdjacentVar, AdjacentVars)
BINDING_RELATION_RETRACTION(AdjacentVar, AdjacentVars)

BINDING_RELATION_ADDITION(SubtypeOf, SubtypeOf)
BINDING_RELATION_RETRACTION(SubtypeOf, SubtypeOf)

BINDING_RELATION_ADDITION(SupertypeOf, SupertypeOf)
BINDING_RELATION_RETRACTION(SupertypeOf, SupertypeOf)

BINDING_RELATION_ADDITION(EquivalentTo, EquivalentTo)
BINDING_RELATION_RETRACTION(EquivalentTo, EquivalentTo)

SCORE_CHANGE(IncreasedScore)
SCORE_CHANGE(DecreasedScore)

CHANGE(AddedTypeVariable)
CHANGE(ExtendedEquivalenceClass)
CHANGE(RelatedTypeVariables)
CHANGE(UpdatedTypeVariable)
CHANGE(AddedConversionRestriction)
CHANGE(AddedFix)
CHANGE(AddedFixedRequirement)
CHANGE(RecordedOpenedPackExpansionType)
CHANGE(RecordedPackElementExpansion)
CHANGE(RecordedPackExpansionEnvironment)
CHANGE(RecordedNodeType)
CHANGE(RecordedKeyPathComponentType)
CHANGE(RecordedResultBuilderTransform)
CHANGE(RecordedContextualInfo)
CHANGE(RecordedTarget)
CHANGE(RecordedCaseLabelItemInfo)
CHANGE(RecordedPotentialThrowSite)
CHANGE(RecordedIsolatedParam)
CHANGE(RecordedKeyPath)
CHANGE(RetiredConstraint)
CHANGE(AddedBinding)
CHANGE(RetractedBinding)

LAST_CHANGE(RetractedBinding)

#undef LOCATOR_CHANGE
#undef EXPR_CHANGE
#undef CLOSURE_CHANGE
#undef CONSTRAINT_CHANGE
#undef GRAPH_NODE_CHANGE
#undef COMMON_BINDING_INFORMATION_ADDITION
#undef COMMON_BINDING_INFORMATION_RETRACTION
#undef BINDING_RELATION_CHANGE
#undef BINDING_RELATION_ADDITION
#undef BINDING_RELATION_RETRACTION
#undef SCORE_CHANGE
#undef LAST_CHANGE
#undef CHANGE
