// RUN: %scale-test --begin 1 --end 7 --step 1 --select NumLeafScopes %s
// REQUIRES: asserts,no_asan

enum A {
  case a
}

enum B {
  case none

  func encode() -> Int {
    return 0
  }
}

extension Int {
  func print() {}
}

func encode(settings: Dictionary<A, B>) {
  (
%for i in range(0, N):
   (settings[.a] ?? .none).encode() |
%end
   (settings[.a] ?? .none).encode()
  ).print()
}
